<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Premium Batches - QuickToppers</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body {
            background: linear-gradient(180deg, #0c0c14, #11111f);
            color: white;
            font-family: 'Inter', sans-serif;
            animation: appLoad 0.8s ease;
        }

        /* Mobile App Transition */
        @keyframes appLoad {
            from { opacity: 0; transform: translateY(25px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Slide-in cards */
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Glowing Border */
        .batch-card {
            position: relative;
            padding: 3px;
            border-radius: 18px;
            background: linear-gradient(135deg, rgba(0,255,255,0.3), rgba(135,0,255,0.3));
            transition: 0.25s ease;
            animation: slideUp 0.6s ease;
        }

        .batch-inner {
            background: #161622;
            border-radius: 15px;
            padding: 14px;
        }

        .batch-card:hover {
            transform: scale(1.03);
            box-shadow: 0px 0px 25px rgba(0,200,255,0.35);
        }

        /* Buttons */
        .study-btn {
            background: linear-gradient(90deg, #6366f1, #0ea5e9);
            transition: transform .25s ease, box-shadow .25s ease;
        }

        .study-btn:hover {
            transform: scale(1.06);
            box-shadow: 0 0 12px rgba(0,200,255,0.5);
        }

        /* Skeleton Loading */
        .skeleton {
            animation: shine 1.3s infinite linear;
            background: linear-gradient(90deg, #1c1c28, #242436, #1c1c28);
            background-size: 220%;
            border-radius: 10px;
        }
        @keyframes shine {
            from { background-position: 200% 0; }
            to { background-position: -200% 0; }
        }

        /* Transparent Gradient Heading Box */
        .heading-box {
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(6px);
            border-radius: 16px;
            padding: 20px;
            display: inline-block;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .heading-gradient {
            background: linear-gradient(90deg, #06b6d4, #8b5cf6, #ec4899);
            -webkit-background-clip: text;
            color: transparent;
        }

    </style>
</head>

<body>

    <!-- Top Navigation (same style as homepage) -->
    <div class="w-full px-5 py-4 flex items-center justify-between bg-[#0c0c14]/40 backdrop-blur-md border-b border-white/10">
        <h1 class="text-xl font-bold tracking-wide">
            <span class="text-white">Quick</span><span class="text-cyan-400">Toppers</span>
        </h1>

        <!-- Menu Icon -->
        <svg width="28" height="28" fill="white">
            <path d="M4 7h20M4 14h20M4 21h20" stroke="white" stroke-width="2" stroke-linecap="round"/>
        </svg>
    </div>

    <!-- Heading Section -->
    <div class="text-center mt-6">
        <div class="heading-box mx-auto">
            <h2 class="text-3xl font-extrabold heading-gradient">Our Premium Batches</h2>
        </div>
        <p class="mt-3 opacity-70 px-5">Choose from expert-led courses and start learning today.</p>
    </div>

    <!-- Search Bar -->
    <div class="max-w-3xl mx-auto mt-6 px-4">
        <input id="searchInput" type="text"
            placeholder="Search batches..."
            class="w-full px-4 py-3 rounded-xl bg-[#1a1a28] text-white outline-none border border-[#2b2b3a] focus:border-cyan-400">
    </div>

    <!-- Batches Container -->
    <div id="batchesContainer"
        class="grid grid-cols-1 sm:grid-cols-2 gap-6 px-4 py-10 max-w-5xl mx-auto">
    </div>

    <!-- Footer -->
    <footer class="text-center text-sm text-white/50 pb-6">
        Â© 2025 QuickToppers. All rights reserved.
    </footer>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const selectedID = urlParams.get("id");

        const container = document.getElementById("batchesContainer");
        const searchInput = document.getElementById("searchInput");

        let loadedBatches = [];

        /* Skeleton loaders */
        function renderSkeleton() {
            for (let i = 0; i < 4; i++) {
                container.innerHTML += `
                    <div class="batch-card">
                        <div class="batch-inner">
                            <div class="skeleton w-full h-40"></div>
                            <div class="skeleton w-3/4 h-4 mt-4"></div>
                            <div class="skeleton w-full h-10 mt-4"></div>
                        </div>
                    </div>
                `;
            }
        }
        renderSkeleton();

        /* Load from JSON */
        async function loadBatches() {
            const res = await fetch("data/batches.json");
            const data = await res.json();

            container.innerHTML = "";

            if (!selectedID || !data[selectedID]) {
                container.innerHTML = "";
                return;
            }

            loadedBatches = data[selectedID];
            renderBatches(loadedBatches);
        }

        /* Render Cards */
        function renderBatches(list) {
            container.innerHTML = "";

            list.forEach(batch => {
                const card = document.createElement("div");
                card.className = "batch-card";

                card.innerHTML = `
                    <div class="batch-inner">
                        <img src="${batch.thumbnail}" class="w-full rounded-lg">

                        <h2 class="text-lg font-semibold mt-3">${batch.title}</h2>

                        <button onclick="window.location.href='${batch.link}'"
                            class="study-btn mt-3 w-full text-white py-2 rounded-lg font-semibold flex items-center justify-center gap-2">

                            <!-- ICON -->
                            <svg width="20" height="20" fill="white">
                                <path d="M4 4h12v2H4zm0 5h12v2H4zm0 5h12v2H4z"/>
                            </svg>

                            Let's Study
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        /* Search System */
        searchInput.addEventListener("input", () => {
            const value = searchInput.value.toLowerCase();
            const filtered = loadedBatches.filter(b =>
                b.title.toLowerCase().includes(value)
            );
            renderBatches(filtered);
        });

        loadBatches();
    </script>

</body>
  </html>
